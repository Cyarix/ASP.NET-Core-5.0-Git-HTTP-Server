@using GitServer.Extensions
@using GitServer.Models
@using GitServer.SyntaxHighlighing
@model BlobModel

@{
    ViewBag.Title = Model.Name;
}
<link rel="stylesheet" href="~/lib/highlightjs/styles/foundation.css">

@if (Model.IsBinary)
{
    <p>This file is binary and cannot be displayed.</p>
}
else
{
    <pre><code>@Model.Content</code></pre>
    //Html.HighlightCode(Model.Content, Highlighter.FromExtension(System.IO.Path.GetExtension(Model.Name)), "code")
}

@section Scripts {
    <script src="~/lib/highlightjs/highlight.pack.js"></script>
    <script src="~/lib/highlightjs-line-numbers/dist/highlightjs-line-numbers.min.js"></script>
    <script>hljs.initHighlightingOnLoad();</script>
    <script>
        $(document).ready(function () {
            $('pre').each(function (i, block) {
                hljs.lineNumbersBlock(block);
                // hljs.highlightBlock(block);
            });
        });
    </script>
}